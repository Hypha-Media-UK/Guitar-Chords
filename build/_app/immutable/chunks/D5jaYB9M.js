var Z=Object.defineProperty;var M=s=>{throw TypeError(s)};var J=(s,e,t)=>e in s?Z(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var B=(s,e,t)=>J(s,typeof e!="symbol"?e+"":e,t),N=(s,e,t)=>e.has(s)||M("Cannot "+t);var a=(s,e,t)=>(N(s,e,"read from private field"),t?t.call(s):e.get(s)),v=(s,e,t)=>e.has(s)?M("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(s):e.set(s,t),Y=(s,e,t,r)=>(N(s,e,"write to private field"),r?r.call(s,t):e.set(s,t),t);import{C as w,D as K,F as y,G as Q,q as x,H as F,h as m,z as V,I as W,J as X,K as j,b as ee,L as se,M as te,N as ae,O as re,B as ie,P as C,Q as fe,R as ne,a as q,S as ce,U as $,V as de,W as he,X as ue,i as O,k as _e,Y as le,Z as oe,_ as ve,$ as be,x as Se,a0 as ge,a1 as Pe,l as Ae,a2 as Ee,a3 as Re,a4 as Ie,a5 as Te}from"./yjMH20HW.js";var _,l,u,A,E,T;class pe{constructor(e,t=!0){B(this,"anchor");v(this,_,new Map);v(this,l,new Map);v(this,u,new Map);v(this,A,!0);v(this,E,()=>{var e=w;if(a(this,_).has(e)){var t=a(this,_).get(e),r=a(this,l).get(t);if(r)K(r);else{var f=a(this,u).get(t);f&&(a(this,l).set(t,f.effect),a(this,u).delete(t),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),r=f.effect)}for(const[i,c]of a(this,_)){if(a(this,_).delete(i),i===e)break;const n=a(this,u).get(c);n&&(y(n.effect),a(this,u).delete(c))}for(const[i,c]of a(this,l)){if(i===t)continue;const n=()=>{if(Array.from(a(this,_).values()).includes(i)){var o=document.createDocumentFragment();W(c,o),o.append(x()),a(this,u).set(i,{effect:c,fragment:o})}else y(c);a(this,l).delete(i)};a(this,A)||!r?Q(c,n,!1):n()}}});v(this,T,e=>{a(this,_).delete(e);const t=Array.from(a(this,_).values());for(const[r,f]of a(this,u))t.includes(r)||(y(f.effect),a(this,u).delete(r))});this.anchor=e,Y(this,A,t)}ensure(e,t){var r=w,f=X();if(t&&!a(this,l).has(e)&&!a(this,u).has(e))if(f){var i=document.createDocumentFragment(),c=x();i.append(c),a(this,u).set(e,{effect:F(()=>t(c)),fragment:i})}else a(this,l).set(e,F(()=>t(this.anchor)));if(a(this,_).set(r,e),f){for(const[n,d]of a(this,l))n===e?r.skipped_effects.delete(d):r.skipped_effects.add(d);for(const[n,d]of a(this,u))n===e?r.skipped_effects.delete(d.effect):r.skipped_effects.add(d.effect);r.oncommit(a(this,E)),r.ondiscard(a(this,T))}else m&&(this.anchor=V),a(this,E).call(this)}}_=new WeakMap,l=new WeakMap,u=new WeakMap,A=new WeakMap,E=new WeakMap,T=new WeakMap;function De(s,e,t=!1){m&&ee();var r=new pe(s),f=t?se:0;function i(c,n){if(m){const o=te(s)===ae;if(c===o){var d=re();ie(d),r.anchor=d,C(!1),r.ensure(c,n),C(!0);return}}r.ensure(c,n)}j(()=>{var c=!1;e((n,d=!0)=>{c=!0,i(d,n)}),c||i(!1,null)},f)}function U(s,e){return s===e||(s==null?void 0:s[$])===e}function ke(s={},e,t,r){return fe(()=>{var f,i;return ne(()=>{f=i,i=[],q(()=>{s!==t(...i)&&(e(s,...i),f&&U(t(...f),s)&&e(null,...f))})}),()=>{ce(()=>{i&&U(t(...i),s)&&e(null,...i)})}}),s}let I=!1;function ye(s){var e=I;try{return I=!1,[s(),I]}finally{I=e}}function Le(s,e,t,r){var k;var f=!Ae||(t&Ee)!==0,i=(t&Pe)!==0,c=(t&Ie)!==0,n=r,d=!0,o=()=>(d&&(d=!1,n=c?q(r):r),n),S;if(i){var z=$ in s||Te in s;S=((k=de(s,e))==null?void 0:k.set)??(z&&e in s?h=>s[e]=h:void 0)}var g,D=!1;i?[g,D]=ye(()=>s[e]):g=s[e],g===void 0&&r!==void 0&&(g=o(),S&&(f&&he(),S(g)));var b;if(f?b=()=>{var h=s[e];return h===void 0?o():(d=!0,h)}:b=()=>{var h=s[e];return h!==void 0&&(n=void 0),h===void 0?n:h},f&&!(t&ue))return b;if(S){var G=s.$$legacy;return function(h,R){return arguments.length>0?((!f||!R||G||D)&&S(R?b():h),h):b()}}var p=!1,P=(t&Re?_e:le)(()=>(p=!1,b()));i&&O(P);var H=Se;return function(h,R){if(arguments.length>0){const L=R?O(P):f&&i?oe(h):h;return ve(P,L),p=!0,n!==void 0&&(n=L),h}return be&&p||H.f&ge?P.v:O(P)}}export{pe as B,ke as b,De as i,Le as p};
